---
import { PostService } from "../service/post/fetch/postServicer";
import TocWrapper from "../ui/components/astro/TocWrapper.astro";

// const blogPosts = await PostService.getPublsihedPosts();
// console.log(blogPosts);
// console.log(JSON.stringify(blogPosts[0].topics[0]['id']))

// const filteredPosts = await PostService.getPostWithCategories(['dev','design']);
const filteredPosts = await PostService.getPostsWithTopic('DESIGN');
console.log(filteredPosts);

---
<html>
	<meta charset="UTF-8" />
	<div>
		<TocWrapper />
		<!-- <ul>
			{blogPosts.map((post) => 
			<li>{post.title}</li>
			<li>{post.slug}</li>
			<li>{JSON.stringify(post.topics[0]['id'])}</li>
			)}
		</ul> -->
		<ul>
			{filteredPosts.map((post) => 
			<li>{post.slug}</li>
			<li>{post.title}</li>
			<li>{post.description}</li>
			)}
		</ul>
	</div>
</html>